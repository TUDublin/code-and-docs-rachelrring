<div *ngIf="isUserAuthenticated">
  <div *ngIf="hasBudget">
    <div class="p-1">
      <table matSort (matSortChange)="sortExpensesData($event)">
        <tr style=" border: 1px solid;">
          <th colspan="2" mat-sort-header="value">Expenses</th>
        </tr>
        @for (d of sortedExpenses; track d) {
        <tr>
          <td>{{d.key}}</td>
          €<td>{{d.value}}</td>
        </tr>
        }
        <tr style=" border: 1px solid;">
          <td>
            <strong>Total</strong>
          </td>
          <td>
            <strong>{{ totalExp }}</strong>€
          </td>
        </tr>
      </table>
    </div>
    <div class="p1">
      <table matSort (matSortChange)="sortIncomeData($event)">
        <tr style=" border: 1px solid;">
          <th colspan="2" mat-sort-header="value">Income</th>
        </tr>
        @for (d of sortedIncome; track d) {
        <tr>
          <td>{{d.key}}</td>
          €<td>{{d.value}}</td>
        </tr>
        }
        <tr style=" border: 1px solid;">
          <td>
            <strong>Total</strong>
          </td>
          <td>
            <strong>{{ totalIncome }}</strong>€
          </td>
        </tr>
      </table>
    </div>
  </div>
  <div *ngIf="!hasBudget" class="alert alert-danger" role="alert">
    You haven't added a budget yet! <br>
    Please fill out your <a routerLink="/budget-planner">budget planner</a> and make sure to save it!
  </div>
</div>

<div *ngIf="!isUserAuthenticated" class="alert alert-danger" role="alert">
  <p>
    You can't see a budget!!!!!<br>
    Please <a routerLink="/login">log in here</a> !
  </p>
</div>