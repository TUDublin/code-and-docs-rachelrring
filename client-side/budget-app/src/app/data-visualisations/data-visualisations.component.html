<!DOCTYPE html>
<div id="accordion">
    <div class="card">
        <div class="card-header" id="headingOne">
            <h5 class="mb-0">
                <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true"
                    aria-controls="collapseOne">
                    <h4>Income</h4>
                </button>
            </h5>
        </div>

        <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
            <div class="card-body">
                <div class="chartContainer">
                    <canvas id="barChartHS067"></canvas>
                </div>
                <div class="chartContainer">
                    <canvas id="wagesChart"></canvas>
                </div>
                <div class="chartContainer">
                    <canvas id="disposableIncomeChart"></canvas>
                </div>
                <div class="chartContainer">
                    <canvas id="deductionsChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header" id="headingTwo">
            <h5 class="mb-0">
                <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo"
                    aria-expanded="false" aria-controls="collapseTwo">
                    <h4>Expenditure</h4>
                </button>
            </h5>
        </div>
        <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion">
            <div class="card-body">
                <h2>Average Total Expenditure for {{householdNumber}}: <span
                        style="color: purple;">â‚¬{{expenseTotal}}</span></h2>
                <div class="chartContainer">
                    <div class="chartHeader">
                        <select (change)="updateOverViewChart($event)">
                            <option value="All household sizes">All household sizes</option>
                            <option value="1 person">1 Person</option>
                            <option value="2 persons">2 Persons</option>
                            <option value="3 persons">3 Persons</option>
                            <option value="4 persons">4 Persons</option>
                            <option value="5 persons">5 Persons</option>
                            <option value="6 + Persons">6 + Persons</option>
                        </select>
                    </div>
                    <canvas id="hs208ChartOverView"></canvas>
                </div>
                <div class="chartContainer">
                    <canvas id="hs208Chart"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div class="card">
        <div class="card-header" id="headingThree">
            <h5 class="mb-0">
                <button class="btn btn-link" data-toggle="collapse" data-target="#collapseThree" aria-expanded="true"
                    aria-controls="collapseThree">
                    <h4>Recommendations</h4>
                </button>
            </h5>
        </div>
        <div id="collapseThree" class="collapse show" aria-labelledby="headingThree" data-parent="#accordion">
            <div class="card-body">
                <div *ngIf="isUserAuthenticated && hasBudget">
                    <div class="chartHeader logged-in-with-budget">
                        <select (change)="updateRecommendations($event)">
                            <option value="All household sizes">All household sizes</option>
                            <option value="1 person">1 Person</option>
                            <option value="2 persons">2 Persons</option>
                            <option value="3 persons">3 Persons</option>
                            <option value="4 persons">4 Persons</option>
                            <option value="5 persons">5 Persons</option>
                            <option value="6 + Persons">6 + Persons</option>
                        </select>
                    </div>
                    lucky you!
                </div>
                <div *ngIf="!isUserAuthenticated" class="alert alert-danger" role="alert">
                    <p>
                        To see your personalised recommendations, please log in or register, fill out the budget
                        planner, and save your budget.<br>
                    </p>
                    <div style="text-align: center;" class="pb-3 not-logged-in">
                        <a routerLink="/login">Log in here</a>
                        <br>
                        <strong>OR</strong>
                        <br>
                        <a routerLink="/register">Register here</a>
                    </div>
                </div>
                <div *ngIf="!hasBudget && isUserAuthenticated" class="alert alert-danger" role="alert">
                    <p class="logged-in-no-budget">
                        You haven't added a budget yet! <br>
                        Please fill out your <a routerLink="/budget-planner">budget planner</a> and make sure to save
                        it.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="card-footer text-muted">
    Sources
    <ul>
        <li>
            <a
                href="https://data.gov.ie/dataset/043974bb-a509-4910-a895-68c3d3ac1a95/resource/a3d0db56-dd04-43d3-ae4f-1d40cbdffd48">HS067</a>
        </li>
        <li>
            <a href="https://data.gov.ie/dataset/hs208-average-weekly-household-expenditure">HS208</a>
        </li>
    </ul>
</div>